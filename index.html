<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>RPI HAT AMP by phyx-be</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>RPI HAT AMP</h1>
        <p>A Class-D amplifier for your Raspberry Pi</p>

        <p class="view"><a href="https://github.com/phyx-be/RPI_HAT_AMP">View the Project on GitHub <small>phyx-be/RPI_HAT_AMP</small></a></p>


        <ul>
          <li><a href="https://github.com/phyx-be/RPI_HAT_AMP/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/phyx-be/RPI_HAT_AMP/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/phyx-be/RPI_HAT_AMP">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="rpi-hat-amp-tas5756" class="anchor" href="#rpi-hat-amp-tas5756" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>RPI HAT AMP TAS5756</h1>

<p>A Class-D amplifier for your Raspberry Pi</p>

<p><img src="https://raw.githubusercontent.com/phyx-be/RPI_HAT_AMP/master/RPI_HAT_AMP_01/RPI_HAT_AMP_01_TOP.jpg" alt="Assembled image"></p>

<h2>
<a id="rev-01" class="anchor" href="#rev-01" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Rev 01</h2>

<p><img src="https://raw.githubusercontent.com/phyx-be/RPI_HAT_AMP/master/RPI_HAT_AMP_01/3D_VIEW_TOP.png" alt="RPI_HAT_AMP_01_TOP">
<img src="https://raw.githubusercontent.com/phyx-be/RPI_HAT_AMP/master/RPI_HAT_AMP_01/3D_VIEW_BOT.png" alt="RPI_HAT_AMP_01_BOT"></p>

<p>The board is designed around the Ti <a href="http://www.ti.com/product/TAS5756M">TAS5756M</a> Class D amplifier. It also features an I2C EEPROM, Ti <a href="http://www.ti.com/product/tmp112">TMP112</a> I2C temperature sensor, some useful IO connectores, a FET connected to a PWM ouput and a Ti <a href="http://www.ti.com/product/LMZ23603">LMZ23603</a> Simple Switcher module capable of providing 3A on the 5V rail.</p>

<h3>
<a id="possible-improvements" class="anchor" href="#possible-improvements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Possible improvements</h3>

<ul>
<li>Cheaper Power supply</li>
<li>Cheaper Inductors</li>
</ul>

<h2>
<a id="setup-your-rpi" class="anchor" href="#setup-your-rpi" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setup your RPi</h2>

<p>For our setup we use <a href="https://volumio.org">Volumio</a> coupled with a little bit of Pyhton code to run everything. First things first, get yourself a running <a href="https://volumio.org">Volumio</a> system by following <a href="https://volumio.org/get-started/">their manual</a>. Once the board is up and running you can start the configuration needed for the amplifier.</p>

<ul>
<li>Make sure your system is up to date by running <code>sudo rpi-update</code>
</li>
<li>Ensure the drivers are loaded by adding <code>dtoverlay=iqaudio-dacplus</code> in the <code>/boot/config.txt</code> file</li>
<li>Remove the standard Raspberry Pi audio card by commenting out the <code>snd-bcm2835</code> entry in the file <code>/etc/modules</code>, you might want to add <code>i2c-dev</code> as well.</li>
<li>Sync and reboot your system wiht <code>sync</code> and <code>sudo reboot</code>
</li>
<li>Verify your card is available to ALSO by running <code>aplay -l</code>
</li>
<li>Set the volume to 100% using <code>alsamixer</code>, both <em>ANALOGUE</em> and <em>ANALOGUE PLAYBACK BOOST</em> should be set to 100%</li>
<li>Automaticly unmute the amplifier om boot by adding the following lines to <code>/etc/rc.local</code> right before <code>exit(0)</code>
</li>
</ul>

<pre><code>#Unmute the AMP
echo "17" &gt; /sys/class/gpio/export
echo "out" &gt;/sys/class/gpio/gpio17/direction
echo "1" &gt;/sys/class/gpio/gpio17/value
</code></pre>

<ul>
<li>Since the 5V power source is able to provide more than sufficient power to the board, you can increase the USB current of the Raspberry Pi. This can be done by adding <code>max_usb_current=1</code> to the <code>/boot/config.txt</code> file.</li>
</ul>

<h2>
<a id="optional-io-expansion" class="anchor" href="#optional-io-expansion" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Optional IO expansion</h2>

<p>You can stack a PCB on the anplifier with 16 extra IO pins. This board is based on the <a href="http://www.microchip.com/MCP23017">MCP23017</a> which is a 16 bits I2C IO expander. It has native support in <a href="http://wiringpi.com/extensions/i2c-mcp23008-mcp23017/">Wiring Pi</a>. You can stack more than one since the expander has multiple address pins. Just make sure you don't use the same address twice.</p>

<h2>
<a id="pictures" class="anchor" href="#pictures" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Pictures</h2>

<p><img src="https://raw.githubusercontent.com/phyx-be/RPI_HAT_AMP/master/RPI_HAT_AMP_01/IMG_OVEN.jpg" alt="Oven image">
<img src="https://raw.githubusercontent.com/phyx-be/RPI_HAT_AMP/master/RPI_HAT_AMP_01/IMG_IC.jpg" alt="IC image"></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/phyx-be">phyx-be</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
